<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.8/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.18/dist/katex.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.8/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.8/dist/index.js"></script><script>((getMarkmap) => {
          window.WebFontConfig = {
            custom: {
              families: [
                "KaTeX_AMS",
                "KaTeX_Caligraphic:n4,n7",
                "KaTeX_Fraktur:n4,n7",
                "KaTeX_Main:n4,n7,i4,i7",
                "KaTeX_Math:i4,i7",
                "KaTeX_Script",
                "KaTeX_SansSerif:n4,n7,i4",
                "KaTeX_Size1",
                "KaTeX_Size2",
                "KaTeX_Size3",
                "KaTeX_Size4",
                "KaTeX_Typewriter"
              ]
            },
            active: () => {
              getMarkmap().refreshHook.call();
            }
          };
        })(() => window.markmap)</script><script src="https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.js" defer></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"","children":[{"content":"3.1 内存管理概念","children":[{"content":"内存的基础知识","children":[{"content":"什么是内存，有何作用","children":[],"payload":{"tag":"h3","lines":"6,7"}},{"content":"进程运行的基本原理","children":[{"content":"指令的工作原理","children":[],"payload":{"tag":"h4","lines":"15,16"}},{"content":"从写程序到程序运行","children":[{"content":"1. <strong>编译</strong>：由编译程序将用户源代码编译成若干个目标模块（编译就是把高级语言翻译为机器语言）","children":[],"payload":{"tag":"li","lines":"21,22","listIndex":1}},{"content":"2. <strong>链接</strong>：由链接程序将编译后形成的一组目标模块，以及所需库函数链接在一起，形成一个完整的装入模块——确定逻辑地址","children":[],"payload":{"tag":"li","lines":"22,23","listIndex":2}},{"content":"3. <strong>装入</strong>：由装入程序将装入模块装入内存运行——确定物理地址","children":[],"payload":{"tag":"li","lines":"23,25","listIndex":3}}],"payload":{"tag":"h4","lines":"19,20"}},{"content":"链接的三种方式","children":[{"content":"<strong>静态链接</strong>：将目标模块在装入前链接成一个完整的装配模块，再将其装入内存。","children":[],"payload":{"tag":"li","lines":"27,28"}},{"content":"<strong>装入时动态链接</strong>：将目标模块一边装入内存一边进行链接。","children":[],"payload":{"tag":"li","lines":"28,29"}},{"content":"<strong>运行时动态链接</strong>：在程序执行过程中需要用到某一目标模块时，再将该模块调入内存进行链接。","children":[],"payload":{"tag":"li","lines":"29,31"}}],"payload":{"tag":"h4","lines":"25,26"}},{"content":"装入的三种方式","children":[{"content":"","children":[{"content":"1. 绝对装入","children":[],"payload":{"tag":"li","lines":"33,34","listIndex":1}},{"content":"2. 可重定位装入（静态重定位）","children":[],"payload":{"tag":"li","lines":"34,35","listIndex":2}},{"content":"3. 动态运行时装入（动态重定位）","children":[],"payload":{"tag":"li","lines":"35,37","listIndex":3}}],"payload":{"tag":"ol","lines":"33,37"}},{"content":"<strong>绝对装入</strong>：预先知道装入位置，在编译过程中就将逻辑地址转换为物理地址。装入程序按照装入模块中的地址，将程序和数据装入内存。","children":[{"content":"绝对装入只适用于单道程序环境。（还没产生操作系统，由编译器完成）","children":[],"payload":{"tag":"li","lines":"38,39"}},{"content":"程序中使用的绝对地址，可在编译或汇编时给出，也可由程序员直接赋予。<u>通常情况下都是编译或汇编时再转换为绝对地址。</u>","children":[],"payload":{"tag":"li","lines":"39,41"}}],"payload":{"tag":"li","lines":"37,41"}}],"payload":{"tag":"h4","lines":"31,32"}}],"payload":{"tag":"h3","lines":"13,14"}}],"payload":{"tag":"h2","lines":"2,3"}},{"content":"3.1.1 内存管理的基本原理和要求","children":[{"content":"内存保护","children":[{"content":"<img src=\"%E5%9B%BE%E8%A1%A8/%E7%AC%AC3%E7%AB%A0-%E5%86%85%E5%AD%98%E4%BF%9D%E6%8A%A4.drawio.svg\" alt=\"第3章-内存保护.drawio\">","children":[],"payload":{"tag":"img","lines":"79,80"}}],"payload":{"tag":"h4","lines":"70,71"}}],"payload":{"tag":"h2","lines":"49,50"}},{"content":"3.1.2 覆盖与交换","children":[{"content":"覆盖技术","children":[{"content":"需要常驻内存的段放在“<strong>固定区</strong>”中，调入后就不再调出（除非运行结束）","children":[],"payload":{"tag":"li","lines":"96,97"}},{"content":"不常用的段放在“<strong>覆盖区</strong>”，需要用到时调入内存，用不到时调出内存。按照自身逻辑结构，让那些不可能同时被访问的程序段共享同一个覆盖区","children":[],"payload":{"tag":"li","lines":"97,98"}},{"content":"由程序员声明覆盖结构，操作系统完成自动覆盖。","children":[],"payload":{"tag":"li","lines":"98,100"}}],"payload":{"tag":"h3","lines":"91,92"}},{"content":"交换技术","children":[{"content":"","children":[{"content":"<strong>文件区</strong>主要用于存放文件，<u>主要追求存储空间的利用率</u>，因此对文件区空间的管理采用离散分配方式；","children":[],"payload":{"tag":"li","lines":"115,116"}},{"content":"<strong>对换区</strong>空间只占磁盘空间的小部分，被换出的进程数据就存放在对换区。由于对换的速度直接影响到系统的整体速度，因此对换区空间的管理<u>主要追求换入换出速度</u>，因此通常对换区采用<a href=\"%E7%AC%AC4%E7%AB%A0%20%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F#%E8%BF%9E%E7%BB%AD%E5%88%86%E9%85%8D\">连续分配方式</a>","children":[],"payload":{"tag":"li","lines":"116,118"}}],"payload":{"tag":"ul","lines":"115,118"}},{"content":"","children":[{"content":"在发现许多进程运行时经常发生缺页，就说明内存紧张，此时可以换出一些进程；","children":[],"payload":{"tag":"li","lines":"122,123"}},{"content":"如果缺页率明显下降，就可以暂停换出。","children":[],"payload":{"tag":"li","lines":"123,125"}}],"payload":{"tag":"ul","lines":"122,125"}},{"content":"","children":[{"content":"可优先换出阻塞进程；","children":[],"payload":{"tag":"li","lines":"127,128"}},{"content":"可换出优先级低的进程；","children":[],"payload":{"tag":"li","lines":"128,129"}},{"content":"为了防止优先级低的进程在被调入内存后很快又被换出，有的系统还会考虑进程在内存的驻留时间…","children":[],"payload":{"tag":"li","lines":"129,130"}},{"content":"当一个进程正在I/O操作时，不能交换出主存","children":[],"payload":{"tag":"li","lines":"130,132"}}],"payload":{"tag":"ul","lines":"127,132"}}],"payload":{"tag":"h3","lines":"102,103"}}],"payload":{"tag":"h2","lines":"81,82"}},{"content":"3.1.3 连续分配管理方式","children":[{"content":"单一连续分配","children":[{"content":"","children":[{"content":"<strong>系统区</strong>通常位于内存的低地址部分，用于存放操作系统相关数据；","children":[],"payload":{"tag":"li","lines":"147,148"}},{"content":"<strong>用户区</strong>用于存放用户进程相关数据。","children":[],"payload":{"tag":"li","lines":"148,150"}}],"payload":{"tag":"ul","lines":"147,150"}},{"content":"","children":[{"content":"优点：实现简单；无外部碎片；可以采用覆盖技术扩充内存；不一定需要采取内存保护（eg：早期的PC操作系统MS-DOS）。","children":[],"payload":{"tag":"li","lines":"152,153"}},{"content":"缺点：只能用于单用户、单任务的操作系统中；有内部碎片；存储器利用率极低。","children":[],"payload":{"tag":"li","lines":"153,155"}}],"payload":{"tag":"ul","lines":"152,155"}}],"payload":{"tag":"h3","lines":"143,144"}},{"content":"固定分区分配","children":[{"content":"","children":[{"content":"<strong>分区大小相等</strong>：缺乏灵活性，但是很适合用于用一台计算机控制多个相同对象的场合（比如：钢铁厂有 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span> 个相同的炼钢炉，就可把内存分为 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span> 个大小相等的区域存放 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span> 个炼钢炉控制程序）","children":[],"payload":{"tag":"li","lines":"161,162"}},{"content":"<strong>分区大小不等</strong>：增加了灵活性，可以满足不同大小的进程需求。根据常在系统中运行的作业大小情况进行划分（比如：划分多个小分区、适量中等分区、少量大分区）","children":[],"payload":{"tag":"li","lines":"162,164"}}],"payload":{"tag":"ul","lines":"161,164"}},{"content":"","children":[{"content":"优点：实现简单，无外部碎片。","children":[],"payload":{"tag":"li","lines":"168,169"}},{"content":"缺点：","children":[{"content":"当用户程序太大时，可能所有的分区都不能满足需求，此时不得不采用覆盖技术来解决，但这又会降低性能；","children":[],"payload":{"tag":"li","lines":"170,171"}},{"content":"会产生内部碎片，内存利用率低。","children":[],"payload":{"tag":"li","lines":"171,173"}}],"payload":{"tag":"li","lines":"169,173"}}],"payload":{"tag":"ul","lines":"168,173"}}],"payload":{"tag":"h3","lines":"155,156"}},{"content":"动态分区分配","children":[{"content":"","children":[{"content":"<strong>空闲分区表</strong>：每个空闲分区对应一个表项。表项中包含分区号、分区大小、分区起始地址等信息（不一定按照地址递增顺序排列，具体的排列方式需要依照动态分区分配算法来确定）","children":[],"payload":{"tag":"li","lines":"179,180"}},{"content":"<strong>空闲分区链</strong>：每个分区的起始部分和末尾部分分别设置前向指针和后向指针。起始部分处还可记录分区大小等信息","children":[],"payload":{"tag":"li","lines":"180,182"}}],"payload":{"tag":"ul","lines":"179,182"}},{"content":"把一个新作业装入内存时，须按照一定的<a href=\"#%E5%8A%A8%E6%80%81%E5%88%86%E5%8C%BA%E5%88%86%E9%85%8D%E7%AE%97%E6%B3%95\"><strong>动态分区分配算法</strong></a>，从空闲分区表（或空闲分区链）中选出一个分区分配给该作业。","children":[],"payload":{"tag":"li","lines":"184,186"}},{"content":"","children":[{"content":"相邻的空闲区间需要合并","children":[],"payload":{"tag":"li","lines":"188,189"}},{"content":"动态分区分配没有内部碎片，但是有外部碎片。","children":[],"payload":{"tag":"li","lines":"189,190"}},{"content":"如果内存中空闲空间的总和本来可以满足某进程的要求，但由于进程需要的是一整块连续的内存空间，因此这些“碎片”不能满足进程的需求。可以通过<strong>紧凑</strong>（拼凑）技术来解决外部碎片。","children":[],"payload":{"tag":"li","lines":"190,192"}}],"payload":{"tag":"ul","lines":"188,192"}}],"payload":{"tag":"h3","lines":"173,174"}},{"content":"动态分区分配算法","children":[{"content":"首次适应算法(First Fit)","children":[{"content":"算法开销小，回收分区后，一般不需要对空闲分区队列重新排序","children":[],"payload":{"tag":"li","lines":"209,210"}},{"content":"每次都要从头查找，每次都需要检索低地址的小分区。但是这种规则也决定了当低地址部分有更小的分区可以满足需求时，会更有可能用到低地址部分的小分区，也会更有可能把高地址部分的大分区保留下来（最佳适应算法的优点）","children":[],"payload":{"tag":"li","lines":"210,212"}}],"payload":{"tag":"h4","lines":"200,201"}},{"content":"邻近适应算法(Next Fit)","children":[{"content":"优点：不用每次都从低地址的小分区开始检索，算法开销小","children":[],"payload":{"tag":"li","lines":"222,223"}},{"content":"缺点：可能会导致无论低地址、高地址部分的空闲分区都有相同的概率被使用，也就导致了高地址部分的大分区更可能被使用，划分为小分区，最后导致无大分区可用","children":[],"payload":{"tag":"li","lines":"223,225"}}],"payload":{"tag":"h4","lines":"214,215"}},{"content":"最佳适应算法(Best Fit)","children":[{"content":"每次都选最小的分区进行分配，会留下越来越多的、很小的、难以利用的内存块。因此这种方法会产生很多的外部碎片；","children":[],"payload":{"tag":"li","lines":"234,235"}},{"content":"算法开销大，回收分区后需要对空闲分区队列重新排序","children":[],"payload":{"tag":"li","lines":"235,237"}}],"payload":{"tag":"h4","lines":"225,226"}},{"content":"最坏适应算法(Worst Fit)","children":[{"content":"每次都选最大的分区进行分配，虽然可以让分配后留下的空闲区更大，更可用，但是这种方式会导致较大的连续空闲区被迅速用完。如果之后有“大进程”到达，就没有内存分区可用了；","children":[],"payload":{"tag":"li","lines":"248,249"}},{"content":"算法开销大，回收分区后需要对空闲分区队列重新排序","children":[],"payload":{"tag":"li","lines":"249,251"}}],"payload":{"tag":"h4","lines":"237,238"}}],"payload":{"tag":"h3","lines":"194,195"}}],"payload":{"tag":"h2","lines":"132,133"}},{"content":"3.1.4 基本分页存储管理","children":[{"content":"分页存储的基本概念","children":[{"content":"分页存储","children":[{"content":"<u>将内存空间分为一个个大小相等的分区</u>（比如：每个分区4KB），每个分区就是一个“<strong>页框</strong>”（页框=页帧=内存块=物理块=物理页面）。每个页框有一个编号，即“<strong>页框号</strong>”（页框号=页帧号=内存块号=物理块号=物理页号），页框号从0开始。","children":[],"payload":{"tag":"li","lines":"259,260"}},{"content":"<u>将进程的逻辑地址空间也分为与页框大小相等的一个个部分</u>，每个部分称为一个“<strong>页</strong>”或“页面”。每个页面也有一个编号，即“<strong>页号</strong>”，页号也是从0开始。<!--初学易混：页、页面vs页框、页帧、物理页页号、页面号vs页框号、页帧号、物理页号-->","children":[],"payload":{"tag":"li","lines":"260,261"}},{"content":"<u>操作系统以页框为单位为各个进程分配内存空间</u>。进程的每个页面分别放入一个页框中。也就是说，进程的页面与内存的页框有一一对应的关系。各个页面不必连续存放，可以放到不相邻的各个页框中。","children":[],"payload":{"tag":"li","lines":"261,262"}},{"content":"进程的最后一个页面可能没有一个页框那么大。也就是说，分页存储有可能产生内部碎片，因此页框不能太大，否则可能产生过大的内部碎片造成浪费","children":[],"payload":{"tag":"li","lines":"262,264"}}],"payload":{"tag":"h4","lines":"257,258"}},{"content":"页表","children":[{"content":"一个进程对应一张页表，页表记录进程页面和实际存放的内存块之间的映射关系","children":[],"payload":{"tag":"li","lines":"268,269"}},{"content":"进程的每个页面对应一个<strong>页表项</strong>，逻辑上页表项由“<strong>页号</strong>”和“<strong>块号</strong>”组成，所有页表项长度相等。其中因为页表项连续存放，故页号是隐含的，不占用空间； 而块号长度与内存块数量有关（内存→内存块数量→内存块中块号所占字节）","children":[],"payload":{"tag":"li","lines":"269,270"}},{"content":"通过页表可以实现<strong>逻辑地址</strong>到<strong>物理地址</strong>的<a href=\"#%E5%88%86%E9%A1%B5%E7%AE%A1%E7%90%86%E5%9C%B0%E5%9D%80%E5%8F%98%E6%8D%A2%E8%BF%87%E7%A8%8B\">转换</a>。进程的各个页面是离散存在的，但页面内部是连续存放的。如果页面大小刚好是2的整数幂，则只需在页表中找到该页面对应的物理块号，再拼接上页内偏移量就能得到对应的物理地址","children":[],"payload":{"tag":"li","lines":"270,272"}}],"payload":{"tag":"h4","lines":"264,265"}}],"payload":{"tag":"h3","lines":"253,254"}},{"content":"基本地址变换机构","children":[{"content":"页表寄存器","children":[],"payload":{"tag":"h4","lines":"282,283"}},{"content":"分页管理地址变换过程","children":[{"content":"<img src=\"%E5%9B%BE%E8%A1%A8/%E7%AC%AC3%E7%AB%A0-%E5%88%86%E9%A1%B5%E5%AD%98%E5%82%A8%E7%AE%A1%E7%90%86%E7%9A%84%E9%80%BB%E8%BE%91%E5%9C%B0%E5%9D%80.drawio.svg\" alt=\"第3章-分页存储管理的逻辑地址.drawio\">","children":[],"payload":{"tag":"img","lines":"293,294"}}],"payload":{"tag":"h4","lines":"291,292"}},{"content":"对页表项大小的进一步探讨","children":[],"payload":{"tag":"h4","lines":"302,303"}}],"payload":{"tag":"h3","lines":"276,277"}},{"content":"具有快表的地址变换机构","children":[{"content":"快表","children":[],"payload":{"tag":"h4","lines":"317,318"}},{"content":"引入快表后地址的变换过程","children":[{"content":"<img src=\"%E5%9B%BE%E8%A1%A8/%E7%AC%AC3%E7%AB%A0-%E8%AF%B7%E6%B1%82%E5%88%86%E9%A1%B5%E4%B8%AD%E7%9A%84%E5%9C%B0%E5%9D%80%E5%8F%98%E6%8D%A2%E8%BF%87%E7%A8%8B.drawio.svg\" alt=\"第3章-请求分页中的地址变换过程.drawio\">","children":[],"payload":{"tag":"img","lines":"331,332"}}],"payload":{"tag":"h4","lines":"325,326"}},{"content":"局部性原理","children":[],"payload":{"tag":"h4","lines":"335,336"}}],"payload":{"tag":"h3","lines":"310,311"}},{"content":"两级页表","children":[{"content":"单级页表存在的问题","children":[{"content":"问题一：页表必须连续存放，因此当页表很大时，需要占用很多个连续的页框。","children":[{"content":"两级页表","children":[],"payload":{"tag":"li","lines":"354,355"}}],"payload":{"tag":"li","lines":"353,355"}},{"content":"问题二：没有必要让整个页表常驻内存，因为进程在一段时间内可能只需要访问某几个特定的页面。","children":[{"content":"可以在需要访问页面时才把页面调入内存（<a href=\"#3.2%20%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86\">虚拟存储技术</a>）。可以在页表项中增加一个标志位，用于表示该页面是否已经调入内存","children":[],"payload":{"tag":"li","lines":"356,357"}},{"content":"若想访问的页面不在内存中，则产生缺页中断（内中断/异常），然后将目标页面从外存调入内存","children":[],"payload":{"tag":"li","lines":"357,359"}}],"payload":{"tag":"li","lines":"355,359"}}],"payload":{"tag":"h4","lines":"351,352"}},{"content":"两级页表中的地址变换过程","children":[{"content":"<img src=\"%E5%9B%BE%E8%A1%A8/%E7%AC%AC3%E7%AB%A0-%E4%B8%A4%E7%BA%A7%E9%A1%B5%E8%A1%A8%E9%80%BB%E8%BE%91%E5%9C%B0%E5%9D%80.drawio.svg\" alt=\"第3章-两级页表逻辑地址.drawio\">","children":[],"payload":{"tag":"img","lines":"363,364"}}],"payload":{"tag":"h4","lines":"361,362"}},{"content":"需要注意的细节","children":[{"content":"<img src=\"%E5%9B%BE%E8%A1%A8/%E7%AC%AC3%E7%AB%A0-%E9%83%A8%E5%88%86%E6%A6%82%E5%BF%B5%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB.drawio.svg\" alt=\"第3章-部分概念间的关系.drawio\">","children":[],"payload":{"tag":"img","lines":"379,380"}}],"payload":{"tag":"h4","lines":"370,371"}}],"payload":{"tag":"h3","lines":"345,346"}}],"payload":{"tag":"h2","lines":"251,252"}},{"content":"3.1.5 基本分段存储管理","children":[{"content":"分段","children":[{"content":"段号的位数决定了每个进程最多可以分几个段","children":[],"payload":{"tag":"li","lines":"400,401"}},{"content":"段内地址位数决定了每个段的最大长度是多少","children":[],"payload":{"tag":"li","lines":"401,403"}}],"payload":{"tag":"h3","lines":"391,392"}},{"content":"段表","children":[{"content":"每个段对应一个段表项，其中记录了该段在内存中的起始位置（又称“<strong>基址</strong>”）和<strong>段的长度</strong>。","children":[],"payload":{"tag":"li","lines":"407,408"}},{"content":"各个段表项的长度是相同的。例如：某系统按字节寻址，采用分段存储管理，逻辑地址结构为（段号16位,段内地址16位），因此用16位即可表示最大段长。物理内存大小为4GB（可用32位表示整个物理内存地址空间）。因此，可以让每个段表项占16+32 = 48位，即6B。","children":[],"payload":{"tag":"li","lines":"408,409"}},{"content":"由于段表项长度相同，因此<u>段号可以是隐含</u>的，不占存储空间。若段表存放的起始地址为M，则K号段对应的段表项存放的地址为M + K*6","children":[],"payload":{"tag":"li","lines":"409,411"}}],"payload":{"tag":"h3","lines":"403,404"}},{"content":"分段管理地址变换过程","children":[{"content":"1. 由逻辑地址得到段号、段内地址","children":[],"payload":{"tag":"li","lines":"415,416","listIndex":1}},{"content":"2. 段号与段表寄存器中的段长度比较，检查是否越界","children":[],"payload":{"tag":"li","lines":"416,417","listIndex":2}},{"content":"3. 由段表始址、段号找到对应段表项","children":[],"payload":{"tag":"li","lines":"417,418","listIndex":3}},{"content":"4. 根据段表中记录的段长，<u>检查段内地址是否越界</u>","children":[],"payload":{"tag":"li","lines":"418,419","listIndex":4}},{"content":"5. 由段表中的“基址+段内地址”得到最终的物理地址","children":[],"payload":{"tag":"li","lines":"419,420","listIndex":5}},{"content":"6. 访问目标单元","children":[],"payload":{"tag":"li","lines":"420,422","listIndex":6}}],"payload":{"tag":"h3","lines":"411,412"}},{"content":"分段、分页管理对比","children":[{"content":"<strong>页是信息的物理单位</strong>。分页的主要目的是为了实现离散分配，提高内存利用率。分页仅仅是系统管理上的需要，完全是系统行为，<u>对用户是不可见的</u>。<br>\n<strong>段是信息的逻辑单位</strong>。分段的主要目的是更好地满足用户需求。一个段通常包含着一组属于一个逻辑模块的信息。<u>分段对用户是可见的</u>，用户编程时需要显式地给出段名。","children":[],"payload":{"tag":"li","lines":"424,426"}},{"content":"页的大小固定且由系统决定。段的长度却不固定，决定于用户编写的程序。<br>\n分页的用户进程地址空间是一维的，程序员只需给出一个记忆符即可表示一个地址。<br>\n分段的用户进程地址空间是二维的，程序员在标识一个地址时，既要给出段名，也要给出段内地址","children":[],"payload":{"tag":"li","lines":"426,429"}},{"content":"分段比分页更容易实现信息的共享和保护。<br>\n只需让各进程的段表项指向同一段即可实现共享<br>\n不能被修改的代码称为<strong>纯代码或可重入代码</strong>（不属于临界资源），这样的代码是可以共享的。<br>\n可修改的代码是不能共享的（比如，有一个代码段中有很多变量，各进程并发地同时访问可能造成数据不一致）","children":[],"payload":{"tag":"li","lines":"429,434"}}],"payload":{"tag":"h3","lines":"422,423"}}],"payload":{"tag":"h2","lines":"383,384"}},{"content":"3.1.6 段页式管理","children":[{"content":"分页、分段的优缺点","children":[{"content":"<table data-lines=\"442,446\">\n<thead data-lines=\"442,443\">\n<tr data-lines=\"442,443\">\n<th></th>\n<th>优点</th>\n<th>缺点</th>\n</tr>\n</thead>\n<tbody data-lines=\"444,446\">\n<tr data-lines=\"444,445\">\n<td>分页管理</td>\n<td>内存空间利用率高，不会产生外部碎片，只会有少量的页内碎片</td>\n<td>不方便按照逻辑模块实现信息的共享和保护</td>\n</tr>\n<tr data-lines=\"445,446\">\n<td>分段管理</td>\n<td>很方便按照逻辑模块实现信息的共享和保护</td>\n<td>如果段长过大，为其分配很大的连续空间会很不方便；另外，段式管理会产生外部碎片</td>\n</tr>\n</tbody>\n</table>","children":[],"payload":{"tag":"table","lines":"442,446"}}],"payload":{"tag":"h3","lines":"440,441"}},{"content":"段页式管理","children":[{"content":"段号的位数决定了每个进程最多可以分几个段","children":[],"payload":{"tag":"li","lines":"453,454"}},{"content":"页号位数决定了每个段最大有多少页","children":[],"payload":{"tag":"li","lines":"454,455"}},{"content":"页内偏移量决定了页面大小、内存块大小是多少","children":[],"payload":{"tag":"li","lines":"455,457"}}],"payload":{"tag":"h3","lines":"447,448"}},{"content":"段表、页表","children":[],"payload":{"tag":"h3","lines":"459,460"}},{"content":"段页式管理地址变换过程","children":[{"content":"1. 由逻辑地址得到段号、页号、页内偏移量","children":[],"payload":{"tag":"li","lines":"467,468","listIndex":1}},{"content":"2. 段号与段表寄存器中的段长度比较，检查是否越界","children":[],"payload":{"tag":"li","lines":"468,469","listIndex":2}},{"content":"3. 由段表始址、段号找到对应段表项","children":[],"payload":{"tag":"li","lines":"469,470","listIndex":3}},{"content":"4. 根据段表中记录的页表长度，检查页号是否越界","children":[],"payload":{"tag":"li","lines":"470,471","listIndex":4}},{"content":"5. 根据段表中的页表地址、页号查询页表，找到相应表项","children":[],"payload":{"tag":"li","lines":"471,472","listIndex":5}},{"content":"6. 由页面存放的内存块号、业内偏移量得到最终的物理地址","children":[],"payload":{"tag":"li","lines":"472,473","listIndex":6}},{"content":"7. 访问目标单元","children":[],"payload":{"tag":"li","lines":"473,475","listIndex":7}}],"payload":{"tag":"h3","lines":"465,466"}}],"payload":{"tag":"h2","lines":"434,435"}},{"content":"3.1.8 本节习题精选","children":[],"payload":{"tag":"h2","lines":"475,476"}}],"payload":{"tag":"h1","lines":"0,1"}},{"content":"3.2 虚拟内存管理","children":[{"content":"3.2.1 虚拟内存的基本概念","children":[{"content":"传统存储管理方式的特征、缺点","children":[{"content":"<strong>一次性</strong>：作业必须一次性全部装入内存后才能开始运行。这会造成两个问题：①作业很大时，不能全部装入内存，导致大作业无法运行；②当大量作业要求运行时，由于内存无法容纳所有作业，因此只有少量作业能运行，导致多道程序并发度下降。","children":[],"payload":{"tag":"li","lines":"491,492"}},{"content":"<strong>驻留性</strong>：一旦作业被装入内存，就会一直驻留在内存中，直至作业运行结束。事实上，在一个时间段内，只需要访问作业的一小部分数据即可正常运行，这就导致了内存中会驻留大量的、暂时用不到的数据，浪费了宝贵的内存资源。","children":[],"payload":{"tag":"li","lines":"492,494"}}],"payload":{"tag":"h3","lines":"489,490"}},{"content":"虚拟内存的定义和特征","children":[{"content":"","children":[{"content":"基于<a href=\"#%E5%B1%80%E9%83%A8%E6%80%A7%E5%8E%9F%E7%90%86\">局部性原理</a>，在程序装入时，可以<u>将程序中很快会用到的部分装入内存，暂时用不到的部分留在外存</u>，就可以让程序开始执行。","children":[],"payload":{"tag":"li","lines":"496,497"}},{"content":"在程序执行过程中，<u>当所访问的信息不在内存时，由操作系统负责将所需信息从外存调入内存</u>，然后继续执行程序。","children":[],"payload":{"tag":"li","lines":"497,498"}},{"content":"<u>若内存空间不够，由操作系统负责将内存中暂时用不到的信息换出到外存</u>。","children":[],"payload":{"tag":"li","lines":"498,499"}},{"content":"在操作系统的管理下，在用户看来似乎有一个比实际内存大得多的内存，这就是<strong>虚拟内存</strong>","children":[],"payload":{"tag":"li","lines":"499,501"}}],"payload":{"tag":"ul","lines":"496,501"}},{"content":"","children":[{"content":"<strong>多次性</strong>：无需在作业运行时一次性全部装入内存，而是允许被分成多次调入内存。","children":[],"payload":{"tag":"li","lines":"503,504"}},{"content":"<strong>对换性</strong>：在作业运行时无需一直常驻内存，而是允许在作业运行过程中，将作业换入、换出。","children":[],"payload":{"tag":"li","lines":"504,505"}},{"content":"<strong>虚拟性</strong>：从逻辑上扩充了内存的容量，使用户看到的内存容量，远大于实际的容量。","children":[],"payload":{"tag":"li","lines":"505,507"}}],"payload":{"tag":"ul","lines":"503,507"}}],"payload":{"tag":"h3","lines":"494,495"}},{"content":"如何实现虚拟内存技术","children":[{"content":"","children":[{"content":"<a href=\"#3.1.4%20%E5%9F%BA%E6%9C%AC%E5%88%86%E9%A1%B5%E5%AD%98%E5%82%A8%E7%AE%A1%E7%90%86\">基本分页存储管理</a>→<a href=\"#3.2.2%20%E8%AF%B7%E6%B1%82%E5%88%86%E9%A1%B5%E7%AE%A1%E7%90%86%E6%96%B9%E5%BC%8F\">3.2.2 请求分页管理方式</a>","children":[],"payload":{"tag":"li","lines":"511,512"}},{"content":"<a href=\"#3.1.5%20%E5%9F%BA%E6%9C%AC%E5%88%86%E6%AE%B5%E5%AD%98%E5%82%A8%E7%AE%A1%E7%90%86\">基本分段存储管理</a>→请求分段存储管理","children":[],"payload":{"tag":"li","lines":"512,513"}},{"content":"<a href=\"#3.1.6%20%E6%AE%B5%E9%A1%B5%E5%BC%8F%E7%AE%A1%E7%90%86\">基本段页式存储管理</a>→请求段页式存储管理","children":[],"payload":{"tag":"li","lines":"513,515"}}],"payload":{"tag":"ul","lines":"511,515"}},{"content":"","children":[{"content":"请求调页/段功能：在程序执行过程中，当所访问的信息不在内存时，由操作系统负责将所需信息从外存调入内存，然后继续执行程序。","children":[],"payload":{"tag":"li","lines":"517,518"}},{"content":"页面/段置换功能：若内存空间不够，由操作系统负责将内存中暂时用不到的信息换出到外存。","children":[],"payload":{"tag":"li","lines":"518,520"}}],"payload":{"tag":"ul","lines":"517,520"}}],"payload":{"tag":"h3","lines":"507,508"}}],"payload":{"tag":"h2","lines":"483,484"}},{"content":"3.2.2 请求分页管理方式","children":[{"content":"页表机制","children":[{"content":"<img src=\"%E5%9B%BE%E8%A1%A8/%E7%AC%AC3%E7%AB%A0-%E8%AF%B7%E6%B1%82%E5%88%86%E9%A1%B5%E7%B3%BB%E7%BB%9F%E4%B8%AD%E7%9A%84%E9%A1%B5%E8%A1%A8%E9%A1%B9.drawio.svg\" alt=\"第3章-请求分页系统中的页表项.drawio\">","children":[],"payload":{"tag":"img","lines":"531,532"}}],"payload":{"tag":"h3","lines":"526,527"}},{"content":"缺页中断机构","children":[{"content":"如果内存中有空闲块，则为进程分配一个空闲块，将所缺页面装入该块，并修改页表中相应的页表项。","children":[],"payload":{"tag":"li","lines":"542,543"}},{"content":"如果内存中没有空闲块，则由页面置换算法选择一个页面淘汰，若该页面在内存期间被修改过，则要将其写回外存。未修改过的页面不用写回外存。","children":[],"payload":{"tag":"li","lines":"543,545"}}],"payload":{"tag":"h3","lines":"538,539"}},{"content":"请求分页地址变换过程","children":[{"content":"新增步骤1：请求调页（查到页表项时进行判断）","children":[],"payload":{"tag":"li","lines":"550,551"}},{"content":"新增步骤2：页面置换（需要调入页面，但没有空闲内存块时进行）","children":[],"payload":{"tag":"li","lines":"551,552"}},{"content":"新增步骤3：需要修改请求页表中新增的表项","children":[],"payload":{"tag":"li","lines":"552,554"}}],"payload":{"tag":"h3","lines":"548,549"}}],"payload":{"tag":"h2","lines":"520,521"}},{"content":"3.2.4 页面置换算法","children":[{"content":"最佳置换算法(OPT)","children":[{"content":"<table data-lines=\"568,574\">\n<thead data-lines=\"568,569\">\n<tr data-lines=\"568,569\">\n<th style=\"text-align:center\">访问页面</th>\n<th style=\"text-align:center\">7</th>\n<th style=\"text-align:center\">0</th>\n<th style=\"text-align:center\">1</th>\n<th style=\"text-align:center\">2</th>\n<th style=\"text-align:center\">0</th>\n<th style=\"text-align:center\">3</th>\n<th style=\"text-align:center\">0</th>\n<th style=\"text-align:center\">4</th>\n<th style=\"text-align:center\">2</th>\n<th style=\"text-align:center\">3</th>\n<th style=\"text-align:center\">0</th>\n<th style=\"text-align:center\">3</th>\n<th style=\"text-align:center\">2</th>\n<th style=\"text-align:center\">1</th>\n<th style=\"text-align:center\">2</th>\n<th style=\"text-align:center\">0</th>\n<th style=\"text-align:center\">1</th>\n<th style=\"text-align:center\">7</th>\n<th style=\"text-align:center\">0</th>\n<th style=\"text-align:center\">1</th>\n</tr>\n</thead>\n<tbody data-lines=\"570,574\">\n<tr data-lines=\"570,571\">\n<td style=\"text-align:center\">内存块1</td>\n<td style=\"text-align:center\"><strong>7</strong></td>\n<td style=\"text-align:center\">7</td>\n<td style=\"text-align:center\">7</td>\n<td style=\"text-align:center\"><strong>2</strong></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"><strong>7</strong></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr data-lines=\"571,572\">\n<td style=\"text-align:center\">内存块2</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"><strong>0</strong></td>\n<td style=\"text-align:center\">0</td>\n<td style=\"text-align:center\">0</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">0</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"><strong>4</strong></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"><strong>0</strong></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">0</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">0</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr data-lines=\"572,573\">\n<td style=\"text-align:center\">内存块3</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"><strong>1</strong></td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"><strong>3</strong></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"><strong>1</strong></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr data-lines=\"573,574\">\n<td style=\"text-align:center\">是否缺页</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n</tr>\n</tbody>\n</table>","children":[],"payload":{"tag":"table","lines":"568,574"}}],"payload":{"tag":"h3","lines":"562,563"}},{"content":"先进先出页面置换算法(FIFO)","children":[{"content":"<table data-lines=\"580,586\">\n<thead data-lines=\"580,581\">\n<tr data-lines=\"580,581\">\n<th style=\"text-align:center\">访问页面</th>\n<th style=\"text-align:center\">3</th>\n<th style=\"text-align:center\">2</th>\n<th style=\"text-align:center\">1</th>\n<th style=\"text-align:center\">0</th>\n<th style=\"text-align:center\">3</th>\n<th style=\"text-align:center\">2</th>\n<th style=\"text-align:center\">4</th>\n<th style=\"text-align:center\">3</th>\n<th style=\"text-align:center\">2</th>\n<th style=\"text-align:center\">1</th>\n<th style=\"text-align:center\">0</th>\n<th style=\"text-align:center\">4</th>\n</tr>\n</thead>\n<tbody data-lines=\"582,586\">\n<tr data-lines=\"582,583\">\n<td style=\"text-align:center\">内存块1</td>\n<td style=\"text-align:center\"><strong>3</strong></td>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\"><strong>0</strong></td>\n<td style=\"text-align:center\">0</td>\n<td style=\"text-align:center\">0</td>\n<td style=\"text-align:center\"><strong>4</strong></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">4</td>\n<td style=\"text-align:center\">4</td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr data-lines=\"583,584\">\n<td style=\"text-align:center\">内存块2</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"><strong>2</strong></td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\"><strong>3</strong></td>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"><strong>1</strong></td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr data-lines=\"584,585\">\n<td style=\"text-align:center\">内存块3</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"><strong>1</strong></td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\"><strong>2</strong></td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\"><strong>0</strong></td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr data-lines=\"585,586\">\n<td style=\"text-align:center\">是否缺页</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\"></td>\n</tr>\n</tbody>\n</table>","children":[],"payload":{"tag":"table","lines":"580,586"}},{"content":"<table data-lines=\"591,598\">\n<thead data-lines=\"591,592\">\n<tr data-lines=\"591,592\">\n<th style=\"text-align:center\">访问页面</th>\n<th style=\"text-align:center\">3</th>\n<th style=\"text-align:center\">2</th>\n<th style=\"text-align:center\">1</th>\n<th style=\"text-align:center\">0</th>\n<th style=\"text-align:center\">3</th>\n<th style=\"text-align:center\">2</th>\n<th style=\"text-align:center\">4</th>\n<th style=\"text-align:center\">3</th>\n<th style=\"text-align:center\">2</th>\n<th style=\"text-align:center\">1</th>\n<th style=\"text-align:center\">0</th>\n<th style=\"text-align:center\">4</th>\n</tr>\n</thead>\n<tbody data-lines=\"593,598\">\n<tr data-lines=\"593,594\">\n<td style=\"text-align:center\">内存块1</td>\n<td style=\"text-align:center\"><strong>3</strong></td>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"><strong>4</strong></td>\n<td style=\"text-align:center\">4</td>\n<td style=\"text-align:center\">4</td>\n<td style=\"text-align:center\">4</td>\n<td style=\"text-align:center\"><strong>0</strong></td>\n<td style=\"text-align:center\">0</td>\n</tr>\n<tr data-lines=\"594,595\">\n<td style=\"text-align:center\">内存块2</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"><strong>2</strong></td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\"><strong>3</strong></td>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\"><strong>4</strong></td>\n</tr>\n<tr data-lines=\"595,596\">\n<td style=\"text-align:center\">内存块3</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"><strong>1</strong></td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\"><strong>2</strong></td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">2</td>\n</tr>\n<tr data-lines=\"596,597\">\n<td style=\"text-align:center\">内存块4</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"><strong>0</strong></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">0</td>\n<td style=\"text-align:center\">0</td>\n<td style=\"text-align:center\">0</td>\n<td style=\"text-align:center\"><strong>1</strong></td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">1</td>\n</tr>\n<tr data-lines=\"597,598\">\n<td style=\"text-align:center\">是否缺页</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n</tr>\n</tbody>\n</table>","children":[],"payload":{"tag":"table","lines":"591,598"}}],"payload":{"tag":"h3","lines":"575,576"}},{"content":"最近最久未使用置换算法(LRU)","children":[{"content":"<table data-lines=\"610,616\">\n<thead data-lines=\"610,611\">\n<tr data-lines=\"610,611\">\n<th style=\"text-align:center\">访问页面</th>\n<th style=\"text-align:center\">7</th>\n<th style=\"text-align:center\">0</th>\n<th style=\"text-align:center\">1</th>\n<th style=\"text-align:center\">2</th>\n<th style=\"text-align:center\">0</th>\n<th style=\"text-align:center\">3</th>\n<th style=\"text-align:center\">0</th>\n<th style=\"text-align:center\">4</th>\n<th style=\"text-align:center\">2</th>\n<th style=\"text-align:center\">3</th>\n<th style=\"text-align:center\">0</th>\n<th style=\"text-align:center\">3</th>\n<th style=\"text-align:center\">2</th>\n<th style=\"text-align:center\">1</th>\n<th style=\"text-align:center\">2</th>\n<th style=\"text-align:center\">0</th>\n<th style=\"text-align:center\">1</th>\n<th style=\"text-align:center\">7</th>\n<th style=\"text-align:center\">0</th>\n<th style=\"text-align:center\">1</th>\n</tr>\n</thead>\n<tbody data-lines=\"612,616\">\n<tr data-lines=\"612,613\">\n<td style=\"text-align:center\">内存块1</td>\n<td style=\"text-align:center\"><strong>7</strong></td>\n<td style=\"text-align:center\">7</td>\n<td style=\"text-align:center\">7</td>\n<td style=\"text-align:center\"><strong>2</strong></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"><strong>4</strong></td>\n<td style=\"text-align:center\">4</td>\n<td style=\"text-align:center\">4</td>\n<td style=\"text-align:center\"><strong>0</strong></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"><strong>1</strong></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr data-lines=\"613,614\">\n<td style=\"text-align:center\">内存块2</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"><strong>0</strong></td>\n<td style=\"text-align:center\">0</td>\n<td style=\"text-align:center\">0</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">0</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">0</td>\n<td style=\"text-align:center\">0</td>\n<td style=\"text-align:center\"><strong>3</strong></td>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"><strong>0</strong></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">0</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr data-lines=\"614,615\">\n<td style=\"text-align:center\">内存块3</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"><strong>1</strong></td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"><strong>3</strong></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\"><strong>2</strong></td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"><strong>7</strong></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr data-lines=\"615,616\">\n<td style=\"text-align:center\">是否缺页</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n</tr>\n</tbody>\n</table>","children":[],"payload":{"tag":"table","lines":"610,616"}}],"payload":{"tag":"h3","lines":"602,603"}},{"content":"时钟置换算法(CLOCK)","children":[{"content":"首先第一步，由于有五个内存块，所以前五个页面全部正常进入，将<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mo separator=\"true\">,</mo><mn>3</mn><mo separator=\"true\">,</mo><mn>4</mn><mo separator=\"true\">,</mo><mn>2</mn><mo separator=\"true\">,</mo><mn>5</mn></mrow><annotation encoding=\"application/x-tex\">1,3,4,2,5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.1944em;\"></span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">3</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">4</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">5</span></span></span></span>链接成为循环队列，代表置入内存的内存块，此时访问位全部为<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span>，表示全部被访问并置入内存。","children":[],"payload":{"tag":"li","lines":"630,631"}},{"content":"然后访问到<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>6</mn></mrow><annotation encoding=\"application/x-tex\">6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">6</span></span></span></span>，需要置换出一个页面，所以循环访问块链，由于都访问过，所以扫描指针依次扫描<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mo separator=\"true\">,</mo><mn>3</mn><mo separator=\"true\">,</mo><mn>4</mn><mo separator=\"true\">,</mo><mn>2</mn><mo separator=\"true\">,</mo><mn>5</mn></mrow><annotation encoding=\"application/x-tex\">1,3,4,2,5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.1944em;\"></span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">3</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">4</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">5</span></span></span></span>，将访问位全部改为<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span>。","children":[],"payload":{"tag":"li","lines":"631,632"}},{"content":"第二轮循环开始，扫描指针指向第一个的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span>访问位为<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span>，则将<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span>换出，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>6</mn></mrow><annotation encoding=\"application/x-tex\">6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">6</span></span></span></span>换入，访问位置为<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span>，变为<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>6</mn><mo separator=\"true\">,</mo><mn>3</mn><mo separator=\"true\">,</mo><mn>4</mn><mo separator=\"true\">,</mo><mn>2</mn><mo separator=\"true\">,</mo><mn>5</mn></mrow><annotation encoding=\"application/x-tex\">6,3,4,2,5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.1944em;\"></span><span class=\"mord\">6</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">3</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">4</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">5</span></span></span></span>，扫描指针指向<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>3</mn></mrow><annotation encoding=\"application/x-tex\">3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">3</span></span></span></span>。","children":[],"payload":{"tag":"li","lines":"632,633"}},{"content":"接着访问指针转动，访问<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>3</mn></mrow><annotation encoding=\"application/x-tex\">3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">3</span></span></span></span>和<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>4</mn></mrow><annotation encoding=\"application/x-tex\">4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">4</span></span></span></span>，由于都在链中，所以将其访问位都置为<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span>。","children":[],"payload":{"tag":"li","lines":"633,634"}},{"content":"访问指针指向是<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>7</mn></mrow><annotation encoding=\"application/x-tex\">7</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">7</span></span></span></span>，因为<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>7</mn></mrow><annotation encoding=\"application/x-tex\">7</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">7</span></span></span></span>不在内存中，需要换出页面。","children":[],"payload":{"tag":"li","lines":"634,635"}},{"content":"扫描指针从上次的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>3</mn></mrow><annotation encoding=\"application/x-tex\">3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">3</span></span></span></span>开始扫描，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>3</mn></mrow><annotation encoding=\"application/x-tex\">3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">3</span></span></span></span>、<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>4</mn></mrow><annotation encoding=\"application/x-tex\">4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">4</span></span></span></span>访问位为<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span>，而<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span></span></span></span>访问位为<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span>，所以<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>7</mn></mrow><annotation encoding=\"application/x-tex\">7</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">7</span></span></span></span>换入<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span></span></span></span>换出，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>7</mn></mrow><annotation encoding=\"application/x-tex\">7</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">7</span></span></span></span>的访问位置为<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span>，变为<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>6</mn><mo separator=\"true\">,</mo><mn>3</mn><mo separator=\"true\">,</mo><mn>4</mn><mo separator=\"true\">,</mo><mn>7</mn><mo separator=\"true\">,</mo><mn>5</mn></mrow><annotation encoding=\"application/x-tex\">6,3,4,7,5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.1944em;\"></span><span class=\"mord\">6</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">3</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">4</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">7</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">5</span></span></span></span>，扫描指针指向<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>5</mn></mrow><annotation encoding=\"application/x-tex\">5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">5</span></span></span></span>。","children":[],"payload":{"tag":"li","lines":"635,636"}},{"content":"访问结束。","children":[],"payload":{"tag":"li","lines":"636,638"}}],"payload":{"tag":"h3","lines":"618,619"}},{"content":"改进型时钟置换算法","children":[{"content":"1. 第一轮：从当前位置开始扫描到第一个(0, 0)的帧用于替换。本轮扫描不修改任何标志位","children":[],"payload":{"tag":"li","lines":"646,647","listIndex":1}},{"content":"2. 第二轮：若第一轮扫描失败，则重新扫描，查找第一个(0, 1)的帧用于替换。本轮将所有扫描过的帧访问位设为0","children":[],"payload":{"tag":"li","lines":"648,649","listIndex":2}},{"content":"3. 第三轮：若第二轮扫描失败，则重新扫描，查找第一个(0, 0)的帧用于替换。本轮扫描不修改任何标志位","children":[],"payload":{"tag":"li","lines":"650,651","listIndex":3}},{"content":"4. 第四轮：若第三轮扫描失败，则重新扫描，查找第一个(0, 1)的帧用于替换。","children":[],"payload":{"tag":"li","lines":"652,653","listIndex":4}}],"payload":{"tag":"h3","lines":"638,639"}}],"payload":{"tag":"h2","lines":"554,555"}},{"content":"3.2.3 页框分配","children":[{"content":"驻留集","children":[{"content":"","children":[{"content":"若驻留集太小，会导致缺页频繁，系统要花大量的时间来处理缺页，实际用于进程推进的时间很少；","children":[],"payload":{"tag":"li","lines":"666,667"}},{"content":"驻留集太大，又会导致多道程序并发度下降，资源利用率降低。所以应该选择一个合适的驻留集大小。","children":[],"payload":{"tag":"li","lines":"667,669"}}],"payload":{"tag":"ul","lines":"666,669"}},{"content":"","children":[{"content":"<strong>固定分配</strong>：操作系统为每个进程分配一组固定数目的物理块，在进程运行期间不再改变。即，驻留集大小不变","children":[],"payload":{"tag":"li","lines":"671,672"}},{"content":"<strong>可变分配</strong>：先为每个进程分配一定数目的物理块，在进程运行期间，可根据情况做适当的增加或减少。即，驻留集大小可变","children":[],"payload":{"tag":"li","lines":"672,674"}}],"payload":{"tag":"ul","lines":"671,674"}},{"content":"","children":[{"content":"<strong>局部置换</strong>：发生缺页时只能选进程自己的物理块进行置换。","children":[],"payload":{"tag":"li","lines":"676,677"}},{"content":"<strong>全局置换</strong>：可以将操作系统保留的空闲物理块分配给缺页进程，也可以将别的进程持有的物理块置换到外存，再分配给缺页进程。","children":[],"payload":{"tag":"li","lines":"677,679"}}],"payload":{"tag":"ul","lines":"676,679"}}],"payload":{"tag":"h3","lines":"662,663"}},{"content":"内存分配策略","children":[{"content":"固定分配局部置换","children":[],"payload":{"tag":"h4","lines":"685,686"}},{"content":"可变分配全局置换","children":[],"payload":{"tag":"h4","lines":"691,692"}},{"content":"可变分配局部置换","children":[],"payload":{"tag":"h4","lines":"698,699"}}],"payload":{"tag":"h3","lines":"679,680"}},{"content":"何时调入页面","children":[{"content":"<strong>预调页策略</strong>：根据局部性原理，一次调入若干个相邻的页面可能比一次调入一个页面更高效。但如果提前调入的页面中大多数都没被访问过，则又是低效的。因此可以<u>预测不久之后可能访问到的页面，将它们预先调入内存</u>，但目前预测成功率只有50%左右。故这种策略主要用于进程的首次调入，由程序员指出应该先调入哪些部分。","children":[],"payload":{"tag":"li","lines":"707,708"}},{"content":"<strong>请求调页策略</strong>：<u>进程在运行期间发现缺页时才将所缺页面调入内存。</u>由这种策略调入的页面一定会被访问到，但由于每次只能调入一页，而每次调页都要磁盘I/O操作，因此I/O开销较大。","children":[],"payload":{"tag":"li","lines":"708,710"}}],"payload":{"tag":"h3","lines":"705,706"}},{"content":"从何处调入页面","children":[{"content":"若<strong>系统拥有足够的对换区空间</strong>：页面的调入、调出都是在内存与对换区之间进行，这样可以保证页面的调入、调出速度很快。在进程运行前，需将进程相关的数据从文件区复制到对换区。","children":[],"payload":{"tag":"li","lines":"712,713"}},{"content":"若<strong>系统缺少足够的对换区空间</strong>：凡是不会被修改的数据都直接从文件区调入，由于这些页面不会被修改，因此换出时不必写回磁盘，下次需要时再从文件区调入即可。对于可能被修改的部分，换出时需写回磁盘对换区，下次需要时再从对换区调入。","children":[],"payload":{"tag":"li","lines":"713,714"}},{"content":"<strong>UNIX方式</strong>：运行之前进程有关的数据全部放在文件区，故未使用过的页面，都可从文件区调入。若被使用过的页面需要换出，则写回对换区，下次需要时从对换区调入。","children":[],"payload":{"tag":"li","lines":"714,716"}}],"payload":{"tag":"h3","lines":"710,711"}}],"payload":{"tag":"h2","lines":"657,658"}},{"content":"3.2.5 抖动和工作集","children":[{"content":"抖动","children":[{"content":"为进程分配的物理块太少，会使进程发生抖动现象；","children":[],"payload":{"tag":"li","lines":"722,723"}},{"content":"为进程分配的物理块太多，又会降低系统整体的并发度，降低某些资源的利用率","children":[],"payload":{"tag":"li","lines":"723,725"}}],"payload":{"tag":"h3","lines":"718,719"}},{"content":"工作集","children":[{"content":"<strong>驻留集</strong>：指请求分页存储管理中给进程分配的内存块的集合。","children":[],"payload":{"tag":"li","lines":"728,729"}},{"content":"<strong>工作集</strong>：指在某段时间间隔里，进程实际访问页面的集合。","children":[],"payload":{"tag":"li","lines":"729,731"}}],"payload":{"tag":"h3","lines":"725,726"}}],"payload":{"tag":"h2","lines":"716,717"}},{"content":"3.2.6 内存映射文件","children":[{"content":"<img src=\"%E9%99%84%E4%BB%B6/05.3.2.6%20%E5%86%85%E5%AD%98%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6.pdf\" alt=\"内存映射文件.pdf\">","children":[],"payload":{"tag":"img","lines":"742,743"}},{"content":"<img src=\"%E5%9B%BE%E8%A1%A8/%E7%AC%AC3%E7%AB%A0-%E5%86%85%E5%AD%98%E6%98%A0%E5%B0%84IO%E7%9A%84%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98.drawio.svg\" alt=\"第3章-内存映射IO的共享内存.drawio\">","children":[],"payload":{"tag":"img","lines":"762,763"}}],"payload":{"tag":"h2","lines":"739,740"}},{"content":"3.2.7 虚拟存储器性能影响因素","children":[],"payload":{"tag":"h2","lines":"781,782"}},{"content":"3.2.8 地址翻译","children":[],"payload":{"tag":"h2","lines":"789,790"}},{"content":"3.2.10 本节习题精选","children":[],"payload":{"tag":"h2","lines":"791,792"}}],"payload":{"tag":"h1","lines":"481,482"}}]},{})</script>
</body>
</html>
